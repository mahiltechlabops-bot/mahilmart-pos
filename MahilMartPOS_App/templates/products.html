{% extends "base.html" %}

{% block content %}
<!-- Main Content -->
<main class="app-content">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3><i class="fas fa-boxes"></i> Product Listing</h3>
    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addItemModal">
      <i class="fas fa-plus"></i> Add Item
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>S no</th>
          <th>Item</th>
          <th>Subcategory</th>
          <th>Available Stock</th>
          <th>Unit</th>
          <th>MRP</th>
          <th>Price</th>
          <th>Wholesale Price</th>
          <th>Wholesale Price 1</th>
          <th>Retail Price</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Parle-G 100g</td>
          <td>Biscuits</td>
          <td>500</td>
          <td>Pack</td>
          <td>₹10</td>
          <td>₹9</td>
          <td>₹8</td>
          <td>₹7.5</td>
          <td>₹9.5</td>
          <td>
            <button class="btn btn-sm btn-warning"><i class="fas fa-edit"></i></button>
            <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
          </td>
        </tr>
        <tr>
          <td>2</td>
          <td>Santoor 75g</td>
          <td>Soaps</td>
          <td>320</td>
          <td>Piece</td>
          <td>₹30</td>
          <td>₹28</td>
          <td>₹25</td>
          <td>₹24</td>
          <td>₹27</td>
          <td>
            <button class="btn btn-sm btn-warning"><i class="fas fa-edit"></i></button>
            <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</main>
{% endblock %}

{% block extra_js %}
<!-- Add Item Modal -->
<div class="modal fade" id="addItemModal" tabindex="-1" aria-labelledby="addItemModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-dark text-white">
        <h5 class="modal-title" id="addItemModalLabel">Add New Item</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="itemForm">
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Item Name</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3">
              <label class="form-label">Subcategory</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">Unit</label>
              <input type="text" class="form-control" required>
            </div>
            <div class="col-md-3">
              <label class="form-label">Available Stock</label>
              <input type="number" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">MRP</label>
              <input type="number" step="0.01" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">Price</label>
              <input type="number" step="0.01" class="form-control" required>
            </div>
            <div class="col-md-2">
              <label class="form-label">Wholesale Price</label>
              <input type="number" step="0.01" class="form-control">
            </div>
            <div class="col-md-2">
              <label class="form-label">Wholesale Price 1</label>
              <input type="number" step="0.01" class="form-control">
            </div>
            <div class="col-md-2">
              <label class="form-label">Retail Price</label>
              <input type="number" step="0.01" class="form-control">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-primary">Save Item</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Sidebar and nav-item toggle
  document.addEventListener("DOMContentLoaded", () => {
    const sidebarToggle = document.getElementById("sidebarToggle");
    const appSidebar = document.getElementById("appSidebar");
    const navItems = document.querySelectorAll(".nav-item");

    if (sidebarToggle && appSidebar) {
      sidebarToggle.addEventListener("click", () => {
        appSidebar.classList.toggle("active");
      });
    }

    navItems.forEach(item => {
      item.addEventListener("click", () => {
        navItems.forEach(i => i.classList.remove("active"));
        item.classList.add("active");
      });
    });
  });
</script>
{% endblock %}
